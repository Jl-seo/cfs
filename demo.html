<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Executive Insights — HR Dashboard</title>
  <!-- Spoqa Han Sans & FontAwesome -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/spoqa-han-sans/css/SpoqaHanSans.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <style>
    :root {
      --primary: #FA5C00;
      --teal:    #00A28A;
      --red:     #D9534F;
      --bg:      #F8F9FA;
      --card:    #FFFFFF;
      --border:  #E0E0E0;
    }
    * { box-sizing: border-box; margin:0; padding:0; font-family: 'Spoqa Han Sans', sans-serif; }
    body { background: var(--bg); color: #333; }
    header { background: var(--primary); color: #fff; padding:16px; display:flex; align-items:center; gap:8px; font-size:20px; }
    nav { background: #fff; border-bottom:1px solid var(--border); padding:8px; display:flex; gap:16px; overflow-x:auto; }
    nav a { color:#555; text-decoration:none; font-weight:500; white-space:nowrap; }
    nav a:hover { color: var(--primary); }
    .filters { background:#fff; border-bottom:1px solid var(--border); padding:12px; display:flex; flex-wrap:wrap; gap:12px; }
    .filters select { padding:6px 8px; border:1px solid var(--border); border-radius:4px; background:#fff; }
    main { padding:24px; max-width:1400px; margin:0 auto; }
    section { margin-bottom:48px; }
    h2 { margin-bottom:16px; font-size:18px; font-weight:600; display:flex; align-items:center; gap:8px; }
    .cards { display:grid; grid-template-columns:repeat(auto-fill,minmax(350px,1fr)); gap:24px; }
    .cards.kpi-group { margin-bottom:16px; }
    .card { background:var(--card); border:1px solid var(--border); border-radius:8px; padding:24px; display:flex; flex-direction:column; }
    .card h3 { margin:0 0 8px; font-size:16px; font-weight:600; display:flex; align-items:center; gap:6px; }
    .kpi { margin-top:auto; font-size:32px; font-weight:700; }
    .delta { margin-left:8px; font-size:14px; }
    canvas { width:100% !important; height:300px !important; }
  </style>
</head>
<body>
  <header><i class="fa-solid fa-chart-column"></i> Executive Insights</header>
  <nav>
    <a href="#secRecruit">Recruitment</a>
    <a href="#secOnboard">Onboarding</a>
    <a href="#secDEI">DEI</a>
    <a href="#secLeave">Leave</a>
    <a href="#secAttr">Attrition</a>
    <a href="#secTrends">Historical Trends</a>
    <a href="#secTerm">Termination</a>
  </nav>
  <div class="filters">
    <select><option>2024</option></select>
    <select><option>May</option></select>
    <select><option>BU: All</option></select>
    <select><option>Dept: All</option></select>
    <select><option>Level: All</option></select>
    <select><option>Gender: All</option></select>
  </div>
  <main>
    <!-- Recruitment -->
    <section id="secRecruit">
      <h2><i class="fa-solid fa-user-plus"></i> Recruitment</h2>
      <div class="cards kpi-group">
        <div class="card"><h3><i class="fa-solid fa-users"></i> Applicants <span class="delta">▲5%</span></h3><div class="kpi">1,250</div></div>
        <div class="card"><h3><i class="fa-solid fa-comments"></i> Interviews <span class="delta" style="color:var(--red)">▼3%</span></h3><div class="kpi">350</div></div>
        <div class="card"><h3><i class="fa-solid fa-user-check"></i> Hires <span class="delta">▲6%</span></h3><div class="kpi">95</div></div>
      </div>
      <div class="cards">
        <div class="card"><h3><i class="fa-solid fa-chart-simple"></i> Stage Funnel</h3><canvas id="funnelBar"></canvas></div>
        <div class="card"><h3><i class="fa-solid fa-chart-line"></i> Applicants Trend</h3><canvas id="appsLine"></canvas></div>
        <div class="card"><h3><i class="fa-solid fa-clock"></i> TtF Heatmap</h3><canvas id="ttfHeat"></canvas></div>
      </div>
    </section>
    <!-- Onboarding -->
    <section id="secOnboard">
      <h2><i class="fa-solid fa-user-graduate"></i> Onboarding</h2>
      <div class="cards kpi-group">
        <div class="card"><h3><i class="fa-solid fa-user-plus"></i> New Hires (30d) <span class="delta">▲2%</span></h3><div class="kpi">80</div></div>
        <div class="card"><h3><i class="fa-solid fa-clipboard-list"></i> Completion Rate <span class="delta">▲1%</span></h3><div class="kpi">92%</div></div>
        <div class="card"><h3><i class="fa-solid fa-stopwatch"></i> Avg Time to Prod <span class="delta" style="color:var(--red)">▼4d</span></h3><div class="kpi">18d</div></div>
      </div>
      <div class="cards">
        <div class="card"><h3><i class="fa-solid fa-list-check"></i> Checklist Progress</h3><canvas id="checklistBar"></canvas></div>
        <div class="card"><h3><i class="fa-solid fa-thumbs-up"></i> Buddy Feedback</h3><canvas id="feedbackBar"></canvas></div>
        <div class="card"><h3><i class="fa-solid fa-shield-dog"></i> Badge Trend</h3><canvas id="badgeLine"></canvas></div>
      </div>
    </section>
    <!-- DEI -->
    <section id="secDEI">
      <h2><i class="fa-solid fa-handshake-angle"></i> DEI</h2>
      <div class="cards kpi-group">
        <div class="card"><h3><i class="fa-solid fa-venus-mars"></i> % Female Leaders <span class="delta">▲0.5%</span></h3><div class="kpi">31.6%</div></div>
        <div class="card"><h3><i class="fa-solid fa-wheelchair"></i> % Disabled <span class="delta">▲0.1%</span></h3><div class="kpi">2.3%</div></div>
        <div class="card"><h3><i class="fa-solid fa-globe"></i> % Foreign Nationals <span class="delta">▲0.4%</span></h3><div class="kpi">12.5%</div></div>
      </div>
      <div class="cards">
        <div class="card"><h3><i class="fa-solid fa-people-line"></i> Gender × Level</h3><canvas id="genderLevel"></canvas></div>
        <div class="card"><h3><i class="fa-solid fa-chart-pie"></i> Age Pyramid</h3><canvas id="agePyramid"></canvas></div>
        <div class="card"><h3><i class="fa-solid fa-dollar-sign"></i> Pay Gap Scatter</h3><canvas id="payScatter"></canvas></div>
      </div>
    </section>
    <!-- Leave & Availability -->
    <section id="secLeave">
      <h2><i class="fa-solid fa-calendar-minus"></i> Leave & Availability</h2>
      <div class="cards kpi-group">
        <div class="card"><h3><i class="fa-solid fa-user-clock"></i> Absence Rate % <span class="delta">▲0.5%</span></h3><div class="kpi">6.5%</div></div>
        <div class="card"><h3><i class="fa-solid fa-hourglass-half"></i> Avg Remaining Leave <span class="delta" style="color:var(--red)">▼1d</span></h3><div class="kpi">12d</div></div>
        <div class="card"><h3><i class="fa-solid fa-calendar-check"></i> Annual Leave Taken <span class="delta">▲4%</span></h3><div class="kpi">3,200d</div></div>
      </div>
      <div class="cards">
        <div class="card"><h3><i class="fa-solid fa-chart-bar"></i> Leave Type Share</h3><canvas id="leaveType"></canvas></div>
        <div class="card"><h3><i class="fa-solid fa-chart-line"></i> Absence Trend</h3><canvas id="absTrend"></canvas></div>
        <div class="card"><h3><i class="fa-solid fa-users"></i> Team Availability</h3><canvas id="teamAvail"></canvas></div>
      </div>
    </section>
    <!-- Attrition -->
    <section id="secAttr">
      <h2><i class="fa-solid fa-sign-out-alt"></i> Attrition</h2>
      <div class="cards kpi-group">
        <div class="card"><h3><i class="fa-solid fa-percentage"></i> Monthly Turnover % <span class="delta">▲0.2%</span></h3><div class="kpi">7.1%</div></div>
        <div class="card"><h3><i class="fa-solid fa-arrow-right-arrow-left"></i> Voluntary vs Involuntary</h3><div class="kpi">2,541 / 723</div></div>
        <div class="card"><h3><i class="fa-solid fa-user-shield"></i> High-Risk HC</h3><div class="kpi">30</div></div>
      </div>
      <div class="cards">
        <div class="card"><h3><i class="fa-solid fa-chart-area"></i> Attrition Trend</h3><canvas id="attrTrend"></canvas></div>
        <div class="card"><h3><i class="fa-solid fa-water"></i> Exit Reason Waterfall</h3><canvas id="exitReason"></canvas></div>
        <div class="card"><h3><i class="fa-solid fa-biohazard"></i> Attrition Risk Map</h3><canvas id="riskMap"></canvas></div>
      </div>
    </section>
    <!-- Historical Trends -->
    <section id="secTrends">
      <h2><i class="fa-solid fa-chart-simple"></i> Historical & Trends</h2>
      <div class="cards">
        <div class="card"><h3><i class="fa-solid fa-gauge-high"></i> HC Movement</h3><canvas id="hcWaterfall"></canvas></div>
        <div class="card"><h3><i class="fa-solid fa-chart-line"></i> HC by Year</h3><canvas id="hcYear"></canvas></div>
        <div class="card"><h3><i class="fa-solid fa-chart-line"></i> Terms by Month</h3><canvas id="termsMonth"></canvas></div>
      </div>
    </section>
    <!-- Termination Profile -->
    <section id="secTerm">
      <h2><i class="fa-solid fa-scale-balanced"></i> Termination Profile</h2>
      <div class="cards kpi-group">
        <div class="card"><h3><i class="fa-solid fa-user-slash"></i> Total Terminations</h3><div class="kpi">3,265</div></div>
        <div class="card"><h3><i class="fa-solid fa-user-minus"></i> Voluntary</h3><div class="kpi">2,541</div></div>
        <div class="card"><h3><i class="fa-solid fa-user-xmark"></i> Involuntary</h3><div class="kpi">723</div></div>
        <div class="card"><h3><i class="fa-solid fa-user-clock"></i> 1st-Year</h3><div class="kpi">123</div></div>
      </div>
      <div class="cards">
        <div class="card"><h3><i class="fa-solid fa-chart-bar"></i> Terminations by Reason</h3><canvas id="termReason"></canvas></div>
        <div class="card"><h3><i class="fa-solid fa-venus-mars"></i> Terminations by Gender</h3><canvas id="termGender"></canvas></div>
        <div class="card"><h3><i class="fa-solid fa-code-branch"></i> Termination Flow</h3><canvas id="termFlow"></canvas></div>
      </div>
    </section>
  </main>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const css = getComputedStyle(document.documentElement);
      const C = {
        p: css.getPropertyValue('--primary').trim(),
        t: css.getPropertyValue('--teal').trim(),
        r: css.getPropertyValue('--red').trim()
      };
      // Dummy data
      const D = {
        months: ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],
        funnel: [1200,800,450,150,95],
        apps: [800,900,850,950,1100,1200,1150,1250,1300,1400,1350,1450],
        ttf: [30,28,35],
        checklist: [92,8], feedback: [60,25,15], badge: [18,17,16,15,14,14,13,12,11,10,9,8],
        genLevel: [300,200,100,80], agePyramid: [40,60,50,20], payGap: [{x:30,y:50000},{x:45,y:55000},{x:25,y:48000}],
        leaveType: [300,200,150], absTrend: [5,6,7,6,5,8,7,6,5,7,8,6], teamAvail: [10,8,12,11],
        attrTrend: [2,3,2.5,2.7,2.4,2.6,2.8,2.5,2.3,2.1,2.2,2.0],
        exitReason: [936,616,401,319,263,129,81,77], termReasonLabels: ['Personal','Pay','Contract','Career','Role','Redundancy','Workload','Mgmt'],
        riskMap: [{x:1,y:0.7,r:15},{x:3,y:0.5,r:10},{x:5,y:0.9,r:20}],
        hcYear: ['2021','2022','2023','2024'], hcVal: [5000,5800,6100,6400], termsMonth: [12,11,13,12,11,14,15,13,12,14,13,11],
        termGender: [1200,2065], termReasonFlow: [ {from: 'Prod','category': 'Voluntary', value: 360}, {from: 'IT','category':'Involuntary',value:170} ]
      };
      // Helper
      const makeBar = (id, labels, data, bg, horiz=false) => {
        const ctx = document.getElementById(id);
        if (!ctx) return;
        new Chart(ctx, { type:'bar', data:{ labels, datasets:[{ data, backgroundColor: bg }] }, options:{ indexAxis: horiz?'y':'x', plugins:{legend:{display:false}}, scales:{x:{beginAtZero:true},y:{beginAtZero:true}} } });
      };
      const makeLine = (id, labels, data, color) => {
        const ctx = document.getElementById(id);
        if (!ctx) return;
        new Chart(ctx,{ type:'line', data:{ labels, datasets:[{ data, borderColor: color, fill:false, tension:0.3 }] }, options:{ plugins:{legend:{display:false}}, scales:{y:{beginAtZero:true}} } });
      };
      const makeScatter = (id, data, color) => {
        const ctx = document.getElementById(id);
        if(!ctx) return;
        new Chart(ctx,{ type:'bubble', data:{ datasets:[{ data, backgroundColor: color }] }, options:{ plugins:{legend:{display:false}}, scales:{x:{title:{display:true,text:'Tenure'}}, y:{title:{display:true,text:'Salary'}}} } });
      };
      // Charts
      makeBar('funnelBar',['Applied','Screen','Interview','Offer','Hire'],D.funnel,[C.p,C.t,C.p,C.t,C.p],true);
      makeLine('appsLine',D.months,D.apps,C.p);
      makeBar('ttfHeat',['Sick','Annual','Other'],D.ttf,[C.p,C.t,C.r]);
      makeBar('checklistBar',['Done','Pending'],D.checklist,[C.p,C.r]);
      makeBar('feedbackBar',['Positive','Neutral','Negative'],D.feedback,[C.t,'#999',C.r]);
      makeLine('badgeLine',D.months,D.badge,C.t);
      makeBar('genderLevel',['Entry','Staff','Mgr','Exec'],D.genLevel,[C.p,C.p,C.p,C.p],true);
      makeBar('agePyramid',['20s','30s','40s','50s'],D.agePyramid,[C.t,C.t,C.t,C.t],true);
      makeScatter('payScatter', D.payGap, C.r);
      makeBar('leaveType',['Sick','Annual','Other'],D.leaveType,[C.p,C.t,C.r]);
      makeLine('absTrend',D.months,D.absTrend,C.p);
      makeBar('teamAvail',['Team A','Team B','Team C','Team D'],D.teamAvail,[C.t,C.t,C.t,C.t]);
      makeLine('attrTrend',D.months,D.attrTrend,C.r);
      new Chart(document.getElementById('exitReason'),{ type:'bar', data:{ labels:D.termReasonLabels, datasets:[{ data:D.exitReason, backgroundColor:C.r }] }, options:{ plugins:{legend:{display:false}}, scales:{y:{beginAtZero:true}} } });
      makeScatter('riskMap',D.riskMap,C.p);
      new Chart(document.getElementById('hcWaterfall'),{ data:{ labels:['Start','Hires','Terms','Net'], datasets:[{ type:'bar', label:'Δ', data:D.delta=[0,500,-300,200], backgroundColor:[C.t,C.t,C.r,C.t] },{ type:'line', label:'HC', data:D.hcStep, borderColor:'#333', borderWidth:2, fill:false }] }, options:{ plugins:{legend:{position:'bottom'}}, scales:{y:{beginAtZero:true}} } });
      makeLine('hcYear',D.hcYear,D.hcVal,C.p);
      makeLine('termsMonth',D.months,D.termsMonth,C.p);
      makeBar('termReason',D.termReasonLabels,D.exitReason,[C.r],false);
      makeBar('termGender',['Male','Female'],D.termGender,[C.p,C.t],true);
      // Termination flow (simple bar mimic):
      makeBar('termFlow',['Prod→Vol','IT→Invol'],[D.termReasonFlow[0].value,D.termReasonFlow[1].value],[C.p,C.r]);
    });
  </script>
</body>
</html>
